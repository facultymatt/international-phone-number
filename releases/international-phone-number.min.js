"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function(){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",defaultCountry:"@"},link:function(n,e,r,t){var i,o,u,l;return u=function(){return t.$setViewValue(e.val())},i=function(n){return n instanceof Array?n:n.toString().replace(/[ ]/g,"").split(",")},o={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},angular.forEach(o,function(n,e){var t;if(r.hasOwnProperty(e)&&angular.isDefined(r[e]))return t=r[e],"preferredCountries"===e?o.preferredCountries=i(t):"onlyCountries"===e?o.onlyCountries=i(t):o[e]="boolean"==typeof n?"true"===t:t}),l=n.$watch("ngModel",function(t){return n.$$postDigest(function(){return o.defaultCountry=n.defaultCountry,null!==t&&void 0!==t&&""!==t&&e.val(t),e.intlTelInput(o),void 0!==r.skipUtilScriptDownload||o.utilsScript||e.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),l()})}),t.$parsers.push(function(n){return n?n.replace(/[^\d]/g,""):n}),t.$parsers.push(function(n){var r;return n?(r=e.intlTelInput("isValidNumber"),t.$setValidity("international-phone-number",r),t.$setValidity("",r)):(n="",delete t.$error["international-phone-number"]),n}),e.on("blur keyup change",function(){return n.$apply(u)}),e.on("$destroy",function(){return e.off("blur keyup change")})}}});